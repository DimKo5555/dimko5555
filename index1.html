<!DOCTYPE html>
<html>
<head>
    <title>MAP</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://maps.api.2gis.ru/2.0/loader.js?pkg=full"></script>

    <style>
        html,body { height: 100%; margin: 0; padding: 0; }
        #map { width: 100%; height: 100%; }
        .leaflet-touch .leaflet-bottom .dg-attribution { margin-top: 70px; }
        .leaflet-touch .leaflet-bottom .dg-zoom {margin: 40px 10px 40px 0; }
    </style>
</head>
<body>

<div id="map"></div>

<script>
    DG.then(function () {
        // change control position on touch devices
        var options = {
            center: [48.740393, 44.542357],
            zoom: 15,
            geoclicker: true,
            worldCopyJump: true,
            zoomControl: false,
            fullscreenControl: false
        };
        var query = parseQuery();
        var map = window.map = DG.map('map', getMapOptions(query, options));

        var controlOptions = DG.Browser.mobile ? {position: 'bottomright'} : {};
        DG.control.zoom(controlOptions).addTo(map);
        DG.control.traffic(controlOptions).addTo(map);
        DG.control.location(controlOptions).addTo(map);
        DG.control.ruler(controlOptions).addTo(map);
        if (DG.screenfull.isAvailable()) {
            DG.control.fullscreen(controlOptions).addTo(map);
        }

L.marker([48.742278, 44.537083]).addTo(map);
L.marker([48.742278, 44.537083]).bindPopup('<b><i>Родина-Мать зовет</i><b>' + '<br>'+'<br>'+'<img src= "https://dic.academic.ru/pictures/wiki/files/82/Rodina_mat_zovet.jpg" alt="КАРТИНКА" width="200" height="300">' + '<br>'+'<img src= "http://qrcoder.ru/code/?https%3A%2F%2Fyandex.ru%2Fmaps%2F38%2Fvolgograd%2F%3Fll%3D44.537254%252C48.742306%26mode%3Dsearch%26oid%3D33516880554%26ol%3Dbiz%26panorama%255Bdirection%255D%3D255.938439%252C31.000489%26panorama%255Bfull%255D%3Dtrue%26panorama%255Bpoint%255D%3D44.537341%252C48.742393%26panorama%255Bspan%255D%3D120.000000%252C79.101841%26source%3Dwizbiz_new_text_single%26z%3D19&4&0" alt="КАРТИНКА" width="120" height="120">')
.addTo(map);

L.marker([48.7405576, 44.5419759]).addTo(map);
L.marker([48.7405576, 44.5419759]).bindPopup('<b><i>Площадь «Стоявших насмерть!»</i><b>' + '<br>'+'<br>'+'<img src= "https://parusvlg.ru/wp-content/uploads/2016/06/7.jpg" alt="КАРТИНКА" width="275" height="200">'+ '<br>'+'<img src= "http://qrcoder.ru/code/?https%3A%2F%2Fyandex.ru%2Fmaps%2F38%2Fvolgograd%2Fsearch%2F%EF%EB%EE%F9%E0%E4%FC%2520%D1%F2%EE%FF%E2%F8%E8%F5%2520%ED%E0%F1%EC%E5%F0%F2%FC%2F%3Fll%3D44.541867%252C48.740762%26panorama%255Bdirection%255D%3D112.678726%252C1.000000%26panorama%255Bfull%255D%3Dtrue%26panorama%255Bpoint%255D%3D44.541668%252C48.740834%26panorama%255Bspan%255D%3D120.000000%252C79.101841%26source%3Dwizbiz_new_text_single%26z%3D19&4&0" alt="КАРТИНКА" width="120" height="120">')
.addTo(map);
L.marker([48.739987, 44.5454842]).addTo(map);
L.marker([48.739987, 44.5454842]).bindPopup('<b><i>Горельеф «Память поколений»</i><b>' + '<br>'+'<br>'+'<img src= "https://parusvlg.ru/wp-content/uploads/2016/06/2.jpg" alt="КАРТИНКА" width="275" height="200">'+ '<br>'+'<img src= "http://qrcoder.ru/code/?https%3A%2F%2Fyandex.ru%2Fmaps%2F38%2Fvolgograd%2F%3Fll%3D44.546721%252C48.739974%26mode%3Dsearch%26oid%3D136845547148%26ol%3Dbiz%26panorama%255Bdirection%255D%3D289.662636%252C9.912498%26panorama%255Bfull%255D%3Dtrue%26panorama%255Bpoint%255D%3D44.547104%252C48.739919%26panorama%255Bspan%255D%3D120.000000%252C79.101841%26source%3Dwizbiz_new_text_single%26z%3D19&4&0" alt="КАРТИНКА" width="120" height="120">')
.addTo(map);
L.marker([48.7416655, 44.53907847]).addTo(map);
L.marker([48.7416655, 44.53907847]).bindPopup('<b><i>Монументальный рельеф</i><b>' + '<br>'+'<br>'+'<img src= "https://parusvlg.ru/wp-content/uploads/2016/06/IMG_4447.jpg" alt="КАРТИНКА" width="275" height="200">' + '<br>'+'<img src= "http://qrcoder.ru/code/?https%3A%2F%2Fyandex.ru%2Fmaps%2F38%2Fvolgograd%2F%3Fll%3D44.540021%252C48.741594%26mode%3Dsearch%26oid%3D192297114489%26ol%3Dbiz%26panorama%255Bdirection%255D%3D339.391152%252C15.425126%26panorama%255Bfull%255D%3Dtrue%26panorama%255Bpoint%255D%3D44.539432%252C48.741786%26panorama%255Bspan%255D%3D120.000000%252C79.101841%26source%3Dwizbiz_new_text_single%26z%3D19&4&0" alt="КАРТИНКА" width="120" height="120">')
.addTo(map);
L.marker([48.741500, 44.538400]).addTo(map);
L.marker([48.741500, 44.538400]).bindPopup('<b><i>Площадь скорби</i><b>' + '<br>'+'<br>'+'<img src= "https://parusvlg.ru/wp-content/uploads/2016/06/5867725_xlarge.jpg" alt="КАРТИНКА" width="275" height="200">' + '<br>'+'<img src= "http://qrcoder.ru/code/?https%3A%2F%2Fyandex.ru%2Fmaps%2F38%2Fvolgograd%2Fsearch%2F%EF%EB%EE%F9%E0%E4%FC%2520%F1%EA%EE%F0%E1%E8%2F%3Fll%3D44.538791%252C48.741960%26panorama%255Bdirection%255D%3D227.634490%252C7.246620%26panorama%255Bfull%255D%3Dtrue%26panorama%255Bpoint%255D%3D44.538607%252C48.741637%26panorama%255Bspan%255D%3D120.000000%252C79.101841%26sll%3D44.540021%252C48.741594%26source%3Dwizbiz_new_text_single%26sspn%3D0.008873%252C0.003420%26z%3D19&4&0" alt="КАРТИНКА" width="120" height="120">')
.addTo(map);

L.marker([48.740278, 44.536944]).addTo(map);
L.marker([48.740278, 44.536944]).bindPopup('<b><i>Постамент с танковой башней 6</i><b>' + '<br>'+'<br>'+'<img src= "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/All_Saints_Church%2C_Mamayev_Kurgan.jpg/200px-All_Saints_Church%2C_Mamayev_Kurgan.jpg" alt="КАРТИНКА" width="275" height="200">' + '<br>'+'<img src= "http://qrcoder.ru/code/?https%3A%2F%2Fyandex.ru%2Fmaps%2F38%2Fvolgograd%2Fsearch%2F48%25C2%25B044%25E2%2580%25B225%25E2%2580%25B3%2520n%252044%25C2%25B032%25E2%2580%25B213%25E2%2580%25B3e%2F%3Fll%3D44.539887%252C48.741595%26panorama%255Bdirection%255D%3D113.300480%252C0.605388%26panorama%255Bfull%255D%3Dtrue%26panorama%255Bpoint%255D%3D44.536884%252C48.740444%26panorama%255Bspan%255D%3D120.000000%252C60.507243%26sll%3D44.538265%252C48.728662%26sspn%3D0.013476%252C0.005428%26z%3D16.4&4&0" alt="КАРТИНКА" width="120" height="120">')
.addTo(map);
L.marker([48.74119854, 44.54047322]).addTo(map);
L.marker([48.74119854, 44.54047322]).bindPopup('<b><i>Площадь героев</i><b>' + '<br>'+'<br>'+'<img src= "https://parusvlg.ru/wp-content/uploads/2016/06/vfvf.jpg" alt="КАРТИНКА" width="275" height="200">' + '<br>'+'<img src= "http://qrcoder.ru/code/?https%3A%2F%2Fyandex.ru%2Fmaps%2F38%2Fvolgograd%2Fsearch%2FN48.7407059%2520E44.5400415%2F%3Fll%3D44.539904%252C48.741604%26panorama%255Bdirection%255D%3D54.452913%252C1.000000%26panorama%255Bfull%255D%3Dtrue%26panorama%255Bpoint%255D%3D44.539974%252C48.740674%26panorama%255Bspan%255D%3D104.316535%252C80.000000%26sll%3D44.516930%252C48.707073%26sspn%3D0.065575%252C0.115431%26z%3D14.2&4&0" alt="КАРТИНКА" width="120" height="120">')
.addTo(map);

    if (query.lng === undefined && query.lat === undefined) {
            // only open popup when no coordinates specified because it moves map to popup
            marker.openPopup();
        }

        map.on('moveend', function() {
            if (!history.replaceState) {
                return; // ie <= 9
            }

            var center = map.getCenter();
            history.replaceState({}, document.title,
                '?lng=' + center.lng.toFixed(5) +
                '&lat=' + center.lat.toFixed(5) +
                '&zoom=' + map.getZoom()
            );
        });
    });

    function parseQuery() {
        var res = {};
        location.search.slice(1).split('&')
            .map(function(str) {
                return str.split('=')
            })
            .forEach(function(couple) {
                res[couple[0]] = couple[1];
            });
        return res;
    }

    function getMapOptions(query, options) {
        if (query.lng !== undefined && query.lat !== undefined) {
            options.center = [parseFloat(query.lat), parseFloat(query.lng)];
        }
        if (query.zoom !== undefined) {
            options.zoom = parseInt(query.zoom, 10);
        }
        return options;
    }
</script>
</body>
</html>
